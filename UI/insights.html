    <!doctype html>
    <html>
    <head>
        <title>Mobile Analytics</title>
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">

        <!-- Optional theme -->
        <link rel="stylesheet" href="assets/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="assets/css/style.css">
        <script src="assets/js/jquery.js"></script>
        <script src="assets/js/moment.min.js"></script>
        <!-- Latest compiled and minified JavaScript -->
        <script src="assets/js/bootstrap.min.js"></script>
        <script src="assets/js/d3.v3.min.js"></script>
        <script src="assets/js/custom-script.js"></script>
        <script type="text/javascript" src="assets/js/daterangepicker.js"></script>
        <link rel="stylesheet" type="text/css" href="assets/css/daterangepicker.css" />
		<link rel="stylesheet" href="assets/css/bootstrap-select.min.css">
		<script src="assets/js/bootstrap-select.min.js"></script>
		<style>path { stroke-width: 1;}</style>
    </head>
    <body>
        <aside class="left-side sticky-left-side" tabindex="5000"></aside>
        <aside class="main-container" >
            <section class="breadcrumb bg-white border-bottom paddl30">
                <ul>
                    <li><a href="">Insight</a></li>
                    <li> &gt; </li>
                    <li>Users</li>
                </ul>
            </section>    
            
            <section class="border-bottom paddl50 mrgnBtm0">
                <div class="row chart-header">
                    <div class="col-md-6 txt-drk-gray"></div>
                    <div class="col-md-6 txt-drk-gray margnTp-5 text-right">
						<div>
							<span class="glyphicon glyphicon-calendar txt-green sel-range" aria-hidden="true"></span> &nbsp;<span class="date-range">May 01, 2016 - May 24, 2016</span> &nbsp;
							<select class="form-control selectpicker" data-width="150px">
								<option value="Today">Today</option>
								<option value="Yesterday">Yesterday</option>
								<option value="Today">Current Month</option>
								<option value="Today">Previous Month</option>
								<option value="Today">3 Months</option>
								<option value="Today">6 Months</option>
								<option value="Today">1 Year</option>
							</select>
						</div>
                    </div>
                </div>
            </section>
            <section class="bg-white paddl50 ">
                <div class="paddb40 paddt25">
                    <div class="col-md-6"><strong>Total Sessions</strong></div>
                    <div id="line-chart-container-1"></div>
                </div>
                    
                <div class="paddb40 paddt25">
                    <div class="col-md-6"><strong>Total Time Spent</strong></div>
                    <div id="line-chart-container-2"></div>
                </div>
            </section>
        </aside>
        <div class="overlay"></div>
        <script>
            $(document).ready(function() {
                
                // Set the dimensions of the canvas / graph
                var	margin = {top: 30, right: 50, bottom: 30, left: 50}, divWidth = $("#line-chart-container-1").width(), width = (divWidth - 30) - margin.left - margin.right,
                    height = 300 - margin.top - margin.bottom;

                // Parse the date / time
                var	parseDate = d3.time.format("%d-%b-%y").parse;
                var formatTime = d3.time.format("%e %B");// Format tooltip date / time

                // Set the ranges
                var	x = d3.time.scale().range([0, width]);
                var	y = d3.scale.linear().range([height, 0]);

                // Define the axes
                var	xAxis = d3.svg.axis().scale(x)
                    .orient("bottom").ticks(5);

                var	yAxis = d3.svg.axis().scale(y)
                    .orient("left").ticks(5);

                // Define the line
                var	valueline = d3.svg.line()
					//.interpolate("basis")
                    .x(function(d) { return x(d.date); })
                    .y(function(d) { return y(d.count); });
                
                // Define the line
                var	valueline1 = d3.svg.line()
					//.interpolate("basis")
                    .x(function(d) { return x(d.date); })
                    .y(function(d) { return y(d.totalTime); });

                // Define 'div' for tooltips
                var div = d3.select("body")
                    .append("div")  // declare the tooltip div 
                    .attr("class", "tooltip")              // apply the 'tooltip' class
                    .style("opacity", 0);                  // set the opacity to nil

                // Adds the svg canvas
                var	svg = d3.select("#line-chart-container-1")
                    .append("svg")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

                // Get the data for total session
                d3.json("assets/json/data-insight-user-total-session.json", function(error, data) {
                    //alert(data);
                    data.forEach(function(d) {
                        d.date = parseDate(d.date);
                        d.count1 = d.count;
                    });
                    plotChart(data,svg);
                    
                    // Add the valueline path.
                    svg.append("path")		
                        .attr("class", "line")
                        .attr("d", valueline(data));
                });
                
                
                // Adds the svg canvas
                var	svg1 = d3.select("#line-chart-container-2")
                    .append("svg")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
                
                // Get the data for total session
                d3.json("assets/json/data-insight-user-total-time-spent.json", function(error, data) {
                    //alert(data);
                    data.forEach(function(d) {
                        d.date = parseDate(d.date);
                        d.count1 = d.totalTime;
                    });
                    plotChart(data,svg1);
                    
                    // Add the valueline path.
                    svg1.append("path")		
                        .attr("class", "line")
                        .attr("d", valueline1(data));
                });
                
                function plotChart(data, svg){
                    // Scale the range of the data
                    x.domain(d3.extent(data, function(d) { return d.date; }));
                    y.domain([0, d3.max(data, function(d) { return d.count1; })]);

                    // draw the scatterplot
                    svg.selectAll("dot")									
                        .data(data)											
                        .enter().append("circle")								
                        .attr("r", 3)
                        .attr("fill", "#7ABEE7")
                        .attr("cx", function(d) { return x(d.date); })		 
                        .attr("cy", function(d) { return y(d.count1); })
                    // Tooltip stuff after this
                        .on("mouseover", function(d) {		
                            div.transition().duration(200).style("opacity", .9);	
                            div	.html(d.count1).style("left", (d3.event.pageX - 23) + "px").style("top", (d3.event.pageY - 46) + "px");
                        });
                    drawAxes(svg);
                }
                
                function drawAxes(svg){
                    // Add the X Axis
                    svg.append("g")	
                        .attr("class", "x axis")
                        .attr("transform", "translate(0," + height + ")")
                        .call(xAxis);

                    // Add the Y Axis
                    svg.append("g")	
                        .attr("class", "y axis")
                        .call(yAxis);
                }
            });

        </script>
    </body>
    </html>